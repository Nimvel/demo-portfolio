"use strict";(self.webpackChunkportfolio_social_network=self.webpackChunkportfolio_social_network||[]).push([[67],{2029:function(e,r,s){s.d(r,{Z:function(){return a}});var n="Friends_active_friends__aO6WC",t="Friends_friend_list__Bffan",u=s(184),a=function(){return(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("div",{children:"Friends"}),(0,u.jsx)("div",{className:t})]})}},6067:function(e,r,s){s.r(r),s.d(r,{default:function(){return G}});var n=s(2791),t=s(8687),u=s(7781),a=s(7285),i=function(e){return e.users.usersData},o=function(e){return e.users.friendsData},g=function(e){return e.users.usersCurrentPage},c=function(e){return e.users.friendsCurrentPage},p=function(e){return e.users.totalUsersCount},l=function(e){return e.users.totalFriendsCount},d=function(e){return e.users.size},f=function(e){return e.users.isFetching},P=function(e){return e.users.isFollowing},h=s(1548),C=s(8977),x=s(5987),_=s(5671),v=s(3144),j=s(136),F=s(2882),m="Paginator_paginator__OsV9W",U="Paginator_selectedPage__yrj8x",z=s(184),w=function(e){var r=e.pages,s=e.currentPage,n=e.onPageChanged,t=e.previousTenPages,u=e.previousPage,a=e.nextPage,i=e.nextTenPages;return(0,z.jsxs)("div",{className:m,children:[s>10&&(0,z.jsx)("button",{onClick:t,children:"<<"}),s>1&&(0,z.jsx)("button",{onClick:u,children:"<"}),r.map((function(e){return 1===e||e>=s-2&&e<=s+2||e===r.length?(0,z.jsxs)("span",{className:s===e?U:"",onClick:function(r){n(e)},children:[" ",e," "]},r.indexOf(e)):e===s-3||e===s+3?(0,z.jsx)("span",{children:"..."},r.indexOf(e)):void 0})),s<=r.length-1&&(0,z.jsx)("button",{onClick:a,children:">"}),s<=r.length-10&&(0,z.jsx)("button",{onClick:i,children:">>"})]})},k=function(e){(0,j.Z)(s,e);var r=(0,F.Z)(s);function s(){var e;(0,_.Z)(this,s);for(var n=arguments.length,t=new Array(n),u=0;u<n;u++)t[u]=arguments[u];return(e=r.call.apply(r,[this].concat(t))).previousTenPages=function(){e.props.currentPage>10&&e.props.setCurrentPage(e.props.currentPage-10),e.props.getUsers(e.props.currentPage-10,e.props.size)},e.previousPage=function(){e.props.currentPage>1&&e.props.setCurrentPage(e.props.currentPage-1),e.props.getUsers(e.props.currentPage-1,e.props.size)},e.nextPage=function(){e.props.currentPage<=e.props.pages.length-1&&e.props.setCurrentPage(e.props.currentPage+1),e.props.getUsers(e.props.currentPage+1,e.props.size)},e.nextTenPages=function(){e.props.currentPage<=e.props.pages.length-10&&e.props.setCurrentPage(e.props.currentPage+10),e.props.getUsers(e.props.currentPage+10,e.props.size)},e}return(0,v.Z)(s,[{key:"render",value:function(){return(0,z.jsx)(w,{pages:this.props.pages,currentPage:this.props.currentPage,onPageChanged:this.props.onPageChanged,previousPage:this.previousPage,nextPage:this.nextPage,previousTenPages:this.previousTenPages,nextTenPages:this.nextTenPages})}}]),s}(n.Component),Z=k,D=s(2029),N=s(3504),T=s(1413),b=function(e){var r=e.userId,s=e.param,n=e.isFollowing,t=e.getFollowButton;return(0,z.jsx)("button",{disabled:n.some((function(e){return e===r})),onClick:function(){t(s,r)},children:s})},I=function(e){(0,j.Z)(s,e);var r=(0,F.Z)(s);function s(){return(0,_.Z)(this,s),r.apply(this,arguments)}return(0,v.Z)(s,[{key:"render",value:function(){return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(b,(0,T.Z)({param:this.props.isFollowed?"unfollow":"follow"},this.props))})}}]),s}(n.Component),y=(0,t.$j)((function(e){return{isFollowing:P(e)}}),{getFollowButton:a.zD})(I),O=s(4276),B="Users_usersPage__WIeWV",W="Users_users__zBCvY",$="Users_user__ThccA",A="Users_user__name__XKfKg",E="Users_active_friends__kj6-d",K=function(e){var r=e.userId,s=e.userName,n=e.userImg,t=e.isFollowed;return(0,z.jsxs)("div",{className:$,children:[(0,z.jsx)(N.OL,{to:"/profile/"+r,children:(0,z.jsx)("img",{src:n||O,alt:"user avatar"})}),(0,z.jsx)("div",{className:A,children:s}),(0,z.jsx)(y,{userId:r,isFollowed:t})]})},V=["currentPage","onPageChanged","usersData","setCurrentPage","getUsers","size"],q=function(e){for(var r=e.currentPage,s=e.onPageChanged,n=e.usersData,t=e.setCurrentPage,u=e.getUsers,a=e.size,i=(0,x.Z)(e,V),o=n.map((function(e){return(0,z.jsx)(K,{userId:e.id,userName:e.name,userImg:e.photos.small,isFollowed:e.followed},e.id)})),g=[],c=Math.ceil(i.count/a),p=1;p<=c;p++)g.push(p);return(0,z.jsxs)("div",{className:B,children:[(0,z.jsx)(Z,{pages:g,currentPage:r,size:a,setCurrentPage:t,onPageChanged:s,getUsers:u}),(0,z.jsx)("div",{className:W,children:o}),(0,z.jsx)("div",{className:E,children:(0,z.jsx)(D.Z,{})})]})},G=(0,u.qC)((0,t.$j)((function(e){return{usersData:i(e),friendsData:o(e),usersCurrentPage:g(e),friendsCurrentPage:c(e),totalUsersCount:p(e),totalFriendsCount:l(e),size:d(e),isFetching:f(e)}}),{getUsers:a.Rf,getFriends:a.$J,setUsersCurrentPage:a.ui,setFriendsCurrentPage:a.G0}),h.D)((function(e){n.useEffect((function(){e.getUsers(e.usersCurrentPage,e.size)}),[]),n.useEffect((function(){e.getFriends(e.friendsCurrentPage,e.size)}),[]);return e.isFetching?(0,z.jsx)(C.Z,{}):"getUsers"===e.getPeople?(0,z.jsx)(q,{getUsers:e.getUsers,usersData:e.usersData,currentPage:e.usersCurrentPage,setCurrentPage:e.setUsersCurrentPage,size:e.size,count:e.totalUsersCount,isFetching:e.isFetching,onPageChanged:function(r){e.getUsers(r,e.size)}}):(0,z.jsx)(q,{getUsers:e.getFriends,usersData:e.friendsData,currentPage:e.friendsCurrentPage,setCurrentPage:e.setFriendsCurrentPage,size:e.size,count:e.totalFriendsCount,isFetching:e.isFetching,onPageChanged:function(r){e.getFriends(r,e.size)}})}))}}]);
//# sourceMappingURL=67.2c5f1915.chunk.js.map